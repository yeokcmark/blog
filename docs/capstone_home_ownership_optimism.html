<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>maRk's blog: Capstone Project: Does home ownership lead to improved outlook and optimism for one's future?</title>

  <meta property="description" itemprop="description" content="This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2024-01-10"/>
  <meta property="article:created" itemprop="dateCreated" content="2024-01-10"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="maRk&#39;s blog: Capstone Project: Does home ownership lead to improved outlook and optimism for one&#39;s future?"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="maRk&#39;s blog"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="maRk&#39;s blog: Capstone Project: Does home ownership lead to improved outlook and optimism for one&#39;s future?"/>
  <meta property="twitter:description" content="This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","date"]}},"value":[{"type":"character","attributes":{},"value":["Capstone Project: Does home ownership lead to improved outlook and optimism for one's future?"]},{"type":"character","attributes":{},"value":["This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University.\n"]},{"type":"character","attributes":{},"value":["2024-01-10"]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
    font-size: 100%;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  hr.section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    margin: 0px;
  }


  d-byline {
    border-top: none;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
    border-top: none;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  /* tweak for Pandoc numbered line within distill */
  d-article pre.numberSource code > span {
      left: -2em;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // separator
    var separator = '<hr class="section-separator" style="clear: both"/>';
    // prepend separator above appendix
    $('.d-byline').before(separator);
    $('.d-article').before(separator);

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme, except when numbering line
    // in code chunk
    $('pre:not(.numberLines) code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        var author_name = front_matter.authors[i].author
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', author_name ? 'ORCID ID for ' + author_name : 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        const citeChild = $(this).children()[0]
        // Do not process if @xyz has been used without escaping and without bibliography activated
        // https://github.com/rstudio/distill/issues/466
        if (citeChild === undefined) return true

        if (citeChild.nodeName == "D-FOOTNOTE") {
          var fn = citeChild
          $(this).html(fn.shadowRoot.querySelector("sup"))
          $(this).id = fn.id
          fn.remove()
        }
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          // Could use CSS.escape too here, we insure backward compatibility in navigator
          return "<p>" + $('div[id="ref-' + ref + '"]').html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // fix footnotes in tables (#411)
      // replacing broken distill.pub feature
      $('table d-footnote').each(function() {
        // we replace internal showAtNode methode which is triggered when hovering a footnote
        this.hoverBox.showAtNode = function(node) {
          // ported from https://github.com/distillpub/template/pull/105/files
          calcOffset = function(elem) {
              let x = elem.offsetLeft;
              let y = elem.offsetTop;
              // Traverse upwards until an `absolute` element is found or `elem`
              // becomes null.
              while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                  x += elem.offsetLeft;
                  y += elem.offsetTop;
              }

              return { left: x, top: y };
          }
          // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
          const bbox = node.getBoundingClientRect();
          const offset = calcOffset(node);
          this.show([offset.left + bbox.width, offset.top + bbox.height]);
        }
      })

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      // ignore leaflet img layers (#106)
      figures = figures.filter(':not(img[class*="leaflet"])')
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      50px;
    --body-size:       1.06rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     #000000;
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       18px;
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        15px;
    --hover-color:      white;
    --bkgd-color:       #0F2E3D;
  }

  /*-- Additional custom styles --*/
  /* Add any additional CSS rules below                      */
  </style>
  <style type="text/css">
  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      28px;
    --body-size:       1.16rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     rgba(0, 0, 0, 0.8);
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       22px;
    --text-color:       #fefef9; /*tufte off-white*/
    --text-size:        16px;
    --hover-color:      #0F2E3D; /*distill blue*/
    --bkgd-color:       #ad0a2b; /*some kinda red*/
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        12px;
    --hover-color:      #0F2E3D; /*some kinda red*/
    --bkgd-color:       #ad0a2b; /*distill blue*/
  }

  /*-- Additional custom styles --*/


  /* Add any additional CSS rules below                      */
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 10%;    
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }

  .posts-with-sidebar .posts-list {
    width: 67%;
    margin-left: 10%;
  }

  .posts-sidebar {
    font-size: 75%;
    margin-right: 10%;
  }

  d-title {
    visibility: hidden;
  }
  description {
    visibility: hidden;
  }

  body {
    background: #fefef9; /*tufte off-white*/
    width: 80%;
  }</style>
  <style type="text/css">
  /* base style */

  /* FONT FAMILIES */

  :root {
    --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  body,
  .posts-list .post-preview p,
  .posts-list .description p {
    font-family: var(--body-font), var(--body-default);
  }

  h1, h2, h3, h4, h5, h6,
  .posts-list .post-preview h2,
  .posts-list .description h2 {
    font-family: var(--heading-font), var(--heading-default);
  }

  d-article div.sourceCode code,
  d-article pre code {
    font-family: var(--mono-font), var(--mono-default);
  }


  /*-- TITLE --*/
  d-title h1,
  .posts-list > h1 {
    color: var(--title-color, black);
  }

  d-title h1 {
    font-size: var(--title-size, 50px);
  }

  /*-- HEADERS --*/
  d-article h1,
  d-article h2,
  d-article h3,
  d-article h4,
  d-article h5,
  d-article h6 {
    color: var(--header-color, rgba(0, 0, 0, 0.8));
  }

  /*-- BODY --*/
  d-article > p,  /* only text inside of <p> tags */
  d-article > ul, /* lists */
  d-article > ol {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
    font-size: var(--body-size, 1.06rem);
  }


  /*-- CODE --*/
  d-article div.sourceCode code,
  d-article pre code {
    font-size: var(--code-size, 14px);
  }

  /*-- ASIDE --*/
  d-article aside {
    font-size: var(--aside-size, 12px);
    color: var(--aside-color, rgba(0, 0, 0, 0.6));
  }

  /*-- FIGURE CAPTIONS --*/
  figure .caption,
  figure figcaption,
  .figure .caption {
    font-size: var(--fig-cap-size, 13px);
    color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
  }

  /*-- METADATA --*/
  d-byline h3 {
    font-size: var(--heading-size, 0.6rem);
    color: var(--heading-color, rgba(0, 0, 0, 0.5));
  }

  d-byline {
    font-size: var(--body-size, 0.8rem);
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  d-byline a,
  d-article d-byline a {
    color: var(--body-color, rgba(0, 0, 0, 0.8));
  }

  /*-- TABLE OF CONTENTS --*/
  .d-contents nav h3 {
    font-size: var(--heading-size, 18px);
  }

  .d-contents nav a {
    font-size: var(--contents-size, 13px);
  }

  /*-- APPENDIX --*/
  d-appendix h3 {
    font-size: var(--heading-size, 15px);
    color: var(--heading-color, rgba(0, 0, 0, 0.65));
  }

  d-appendix {
    font-size: var(--text-size, 0.8em);
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  d-appendix d-footnote-list a.footnote-backlink {
    color: var(--text-color, rgba(0, 0, 0, 0.5));
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  .distill-site-header .title {
    font-size: var(--title-size, 18px);
    font-family: var(--navbar-font), var(--heading-default);
  }

  .distill-site-header a,
  .nav-dropdown .nav-dropbtn {
    font-family: var(--navbar-font), var(--heading-default);
  }

  .nav-dropdown .nav-dropbtn {
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    font-size: var(--text-size, 15px);
  }

  .distill-site-header a:hover,
  .nav-dropdown:hover .nav-dropbtn {
    color: var(--hover-color, white);
  }

  .distill-site-header {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer {
    font-size: var(--text-size, 15px);
    color: var(--text-color, rgba(255, 255, 255, 0.8));
    background-color: var(--bkgd-color, #0F2E3D);
  }

  .distill-site-footer a:hover {
    color: var(--hover-color, white);
  }</style>
  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
  <script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
  <link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
  <script src="site_libs/datatables-binding-0.31/datatables.js"></script>
  <script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css" rel="stylesheet" />
  <link href="site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css" rel="stylesheet" />
  <script src="site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js"></script>
  <link href="site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
  <script src="site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <script type="text/javascript" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=G-6K2395F6YC"></script>
  <script type="text/javascript" cookie-consent="tracking">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-6K2395F6YC');
  </script>
  <style type="text/css">

  /* base variables */

  /* Edit the CSS properties in this file to create a custom
     Distill theme. Only edit values in the right column
     for each row; values shown are the CSS defaults.
     To return any property to the default,
     you may set its value to: unset
     All rows must end with a semi-colon.                      */

  /* Optional: embed custom fonts here with `@import`          */
  /* This must remain at the top of this file.                 */



  html {
    /*-- Main font sizes --*/
    --title-size:      28px;
    --body-size:       1.16rem;
    --code-size:       14px;
    --aside-size:      12px;
    --fig-cap-size:    13px;
    /*-- Main font colors --*/
    --title-color:     rgba(0, 0, 0, 0.8);
    --header-color:    rgba(0, 0, 0, 0.8);
    --body-color:      rgba(0, 0, 0, 0.8);
    --aside-color:     rgba(0, 0, 0, 0.6);
    --fig-cap-color:   rgba(0, 0, 0, 0.6);
    /*-- Specify custom fonts ~~~ must be imported above   --*/
    --heading-font:    sans-serif;
    --mono-font:       monospace;
    --body-font:       sans-serif;
    --navbar-font:     sans-serif;  /* websites + blogs only */
  }

  /*-- ARTICLE METADATA --*/
  d-byline {
    --heading-size:    0.6rem;
    --heading-color:   rgba(0, 0, 0, 0.5);
    --body-size:       0.8rem;
    --body-color:      rgba(0, 0, 0, 0.8);
  }

  /*-- ARTICLE TABLE OF CONTENTS --*/
  .d-contents {
    --heading-size:    18px;
    --contents-size:   13px;
  }

  /*-- ARTICLE APPENDIX --*/
  d-appendix {
    --heading-size:    15px;
    --heading-color:   rgba(0, 0, 0, 0.65);
    --text-size:       0.8em;
    --text-color:      rgba(0, 0, 0, 0.5);
  }

  /*-- WEBSITE HEADER + FOOTER --*/
  /* These properties only apply to Distill sites and blogs  */

  .distill-site-header {
    --title-size:       22px;
    --text-color:       #fefef9; /*tufte off-white*/
    --text-size:        16px;
    --hover-color:      #0F2E3D; /*distill blue*/
    --bkgd-color:       #ad0a2b; /*some kinda red*/
  }

  .distill-site-footer {
    --text-color:       rgba(255, 255, 255, 0.8);
    --text-size:        12px;
    --hover-color:      #0F2E3D; /*some kinda red*/
    --bkgd-color:       #ad0a2b; /*distill blue*/
  }

  /*-- Additional custom styles --*/


  /* Add any additional CSS rules below                      */
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 10%;    
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }

  .posts-with-sidebar .posts-list {
    width: 67%;
    margin-left: 10%;
  }

  .posts-sidebar {
    font-size: 75%;
    margin-right: 10%;
  }

  d-title {
    visibility: hidden;
  }
  description {
    visibility: hidden;
  }

  body {
    background: #fefef9; /*tufte off-white*/
    width: 80%;
  }
  </style>
  <!--/radix_placeholder_site_in_header-->

  <link rel="stylesheet" href="theme.css" type="text/css"/>

</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Capstone Project: Does home ownership lead to improved outlook and optimism for one's future?","description":"This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University.","authors":[],"publishedDate":"2024-01-10T00:00:00.000+08:00"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="index.html" class="title">maRk's blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="index.html">Home</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Nikkei225
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="calculate_gamma_exposure_profile_nikkei225.html">How to calculate Gamma Exposure Profile</a>
<a href="nikkei225.html">Daily Market Updates</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Projects
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="capstone_home_ownership_optimism.html">Capstone Project: Home Ownership ~ Optimism?</a>
<a href="whatsapp.html">Whatsapp Chat Analysis</a>
<a href="snowman2023.html">Christmas Snowman using gganimate (2023)</a>
</div>
</div>
<a href="about.html">About</a>
<a href="https://github.com/yeokcmark">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="https://twitter.com/yeokcmark_mark">
<i class="fab fa-twitter" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Capstone Project: Does home ownership lead to improved outlook and optimism for one’s future?</h1>

<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>This is the capstone project I worked on for the Certified Data Analytics (R) Specialist course offered by Singapore Management University.</p></p>
</div>


<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction" id="toc-introduction">Introduction</a></li>
<li><a href="#problem-statement" id="toc-problem-statement">Problem Statement</a></li>
<li><a href="#why-is-this-important" id="toc-why-is-this-important">Why is this important?</a></li>
<li><a href="#data-source" id="toc-data-source">Data Source</a></li>
<li><a href="#importing-our-dataset" id="toc-importing-our-dataset">Importing our Dataset</a></li>
<li><a href="#preparing-the-data-for-regression" id="toc-preparing-the-data-for-regression">Preparing the Data for Regression</a></li>
<li><a href="#response-and-explanatory-variables" id="toc-response-and-explanatory-variables">Response and Explanatory Variables</a></li>
<li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis">Exploratory Data Analysis</a></li>
<li><a href="#correlation-analysis" id="toc-correlation-analysis">Correlation Analysis</a></li>
<li><a href="#ordinary-least-square-model" id="toc-ordinary-least-square-model">Ordinary Least Square Model</a>
<ul>
<li><a href="#barebones-base-model" id="toc-barebones-base-model">“Barebones” Base Model</a></li>
<li><a href="#model-with-demographic-control-variables" id="toc-model-with-demographic-control-variables">Model with Demographic Control Variables</a></li>
<li><a href="#model-with-current-economic-status" id="toc-model-with-current-economic-status">Model with Current Economic Status</a></li>
<li><a href="#model-substituting-age-with-generations" id="toc-model-substituting-age-with-generations">Model Substituting Age with Generations</a></li>
<li><a href="#model-with-interactions" id="toc-model-with-interactions">Model with Interactions</a></li>
<li><a href="#simple-slopes-analysis" id="toc-simple-slopes-analysis">Simple Slopes Analysis</a></li>
</ul></li>
<li><a href="#reporting-of-results" id="toc-reporting-of-results">Reporting of Results</a>
<ul>
<li><a href="#evaluating-models-using-anova" id="toc-evaluating-models-using-anova">Evaluating Models using ANOVA</a></li>
<li><a href="#assumption-check-using-gvlma" id="toc-assumption-check-using-gvlma">Assumption Check using GVLMA</a></li>
<li><a href="#check-multicollinearity-using-vif" id="toc-check-multicollinearity-using-vif">Check Multicollinearity using VIF</a></li>
</ul></li>
<li><a href="#interpretation-of-the-results" id="toc-interpretation-of-the-results">Interpretation of the Results</a></li>
<li><a href="#threats-to-causal-inference" id="toc-threats-to-causal-inference">Threats to Causal Inference</a></li>
<li><a href="#implications" id="toc-implications">Implications</a></li>
<li><a href="#limitations-and-future-directions" id="toc-limitations-and-future-directions">Limitations and Future Directions</a></li>
<li><a href="#references" id="toc-references">References</a></li>
<li><a href="#run-sessioninfo" id="toc-run-sessioninfo">Run <code>sessionInfo()</code></a></li>
</ul>
</nav>
</div>
<h2 id="introduction">Introduction</h2>
<p>This is the capstone project my partner (Ms Dxxx Nx) and I worked on for the Certified Data Analytics (R) Specialist <a href="https://academy.smu.edu.sg/certified-data-analytics-r-specialist-1911">course</a> offered by Singapore Management University, taught by an inspiring Professor Sungjong <a href="https://www.talktoroh.com/">Roh</a>.</p>
<p>It is a culmination of about 6 months of learning, and about 1 month’s work.</p>
<h2 id="problem-statement">Problem Statement</h2>
<center>
<em>“If a man owns a little property, that property is him… it is a part of him… in some ways he’s bigger because he owns it”</em> - John Steinbeck, The Grapes of Wrath
</center>
<p>
<p>Property rights are the most fundamental institution in any economy and society. Apart from economic gains that property ownership confers, individual owners are more confident, self-reliant, and entrepreneurial than non-property owners. In countries where property ownership is highly skewed and accessible only to elites, income inequality could lead to uncertainty and a lack of overall optimism among non-property owners.</p>
<p>Our Capstone Project will attempt to determine if John Steinbeck is correct. Does property ownership lead to a better perception of oneself and greater optimism for the future?</p>
<h2 id="why-is-this-important">Why is this important?</h2>
<p>The findings of this project may influence how policies are implemented in Indonesia. If home-ownership leads to greater optimism and entrepreneurship among its people, this could positively impact the economy and political stability.</p>
<p>For our data science project, we activated the following packages, using the <code>Tidyverse</code> approach.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Load necessary packages</span></span>
<span><span class='fu'>pacman</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/pacman/man/p_load.html'>p_load</a></span><span class='op'>(</span><span class='va'>tidyverse</span>, <span class='va'>lubridate</span> ,<span class='va'>glue</span>, <span class='va'>forcats</span>, <span class='va'>knitr</span>, <span class='va'>rmarkdown</span>, <span class='va'>gganimate</span>, <span class='va'>transformr</span>,</span>
<span>               <span class='va'>scales</span>, <span class='va'>gridExtra</span>, <span class='va'>ggthemes</span>, <span class='va'>ggrepel</span>, <span class='va'>patchwork</span>, <span class='va'>DT</span>, </span>
<span>               <span class='va'>jtools</span>, <span class='va'>huxtable</span>, <span class='va'>broom</span>, <span class='va'>modelr</span>, <span class='va'>skimr</span>, <span class='va'>psych</span>, <span class='va'>Hmisc</span>, </span>
<span>               <span class='va'>gvlma</span>, <span class='va'>ggfortify</span>, <span class='va'>sandwich</span>, <span class='va'>car</span>, <span class='va'>ggstance</span>, <span class='va'>broom.mixed</span>,</span>
<span>               <span class='va'>interactions</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We chose <code>theme_minimal()</code> as the default theme for our plots.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>theme_set</span><span class='op'>(</span><span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
</div>
<p>We wrote a function to make it easier to present results from our models. Let’s load it here.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Function for model reporting (to make things look pretty)</span></span>
<span></span>
<span><span class='va'>model_variable_true_regression_function</span> <span class='op'>&lt;-</span></span>
<span>  <span class='kw'>function</span><span class='op'>(</span><span class='va'>name_of_model</span><span class='op'>)</span></span>
<span>  <span class='op'>{</span></span>
<span>    <span class='va'>model_name</span> <span class='op'>&lt;-</span></span>
<span>      <span class='fu'>glue</span><span class='op'>(</span><span class='st'>"{name_of_model}_variables"</span><span class='op'>)</span></span>
<span>    <span class='va'>model_name</span> <span class='op'>&lt;-</span></span>
<span>      <span class='va'>name_of_model</span> <span class='op'>%&gt;%</span></span>
<span>      <span class='fu'>jtools</span><span class='fu'>::</span><span class='fu'><a href='https://jtools.jacob-long.com/reference/summ.html'>summ</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span></span>
<span>      <span class='fu'>broom</span><span class='fu'>::</span><span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span></span>
<span>    <span class='va'>model_regression_name</span> <span class='op'>&lt;-</span></span>
<span>      <span class='fu'>glue</span><span class='op'>(</span><span class='st'>"{name_of_model}_regression"</span><span class='op'>)</span></span>
<span></span>
<span>    <span class='va'>model_regression_name</span> <span class='op'>&lt;-</span></span>
<span>      <span class='va'>model_name</span> <span class='op'>%&gt;%</span></span>
<span>      <span class='va'>.</span><span class='op'>[</span>,<span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>%&gt;%</span></span>
<span>      <span class='fu'>rename</span><span class='op'>(</span>b <span class='op'>=</span> <span class='va'>estimate</span>,</span>
<span>             SE <span class='op'>=</span> <span class='va'>std.error</span><span class='op'>)</span> <span class='op'>%&gt;%</span></span>
<span>      <span class='fu'>mutate</span><span class='op'>(</span>Z95_x_SE <span class='op'>=</span> <span class='fl'>1.96</span> <span class='op'>*</span> <span class='va'>SE</span>,</span>
<span>             CI_95_upper_bound <span class='op'>=</span> <span class='va'>b</span><span class='op'>+</span><span class='va'>Z95_x_SE</span>,</span>
<span>             significance_95 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>b</span><span class='op'>)</span> <span class='op'>&gt;</span> <span class='va'>Z95_x_SE</span>,</span>
<span>                                      <span class='st'>"sig"</span>, <span class='st'>"NULL"</span><span class='op'>)</span></span>
<span>             <span class='op'>)</span></span>
<span></span>
<span>  <span class='op'>}</span></span></code></pre>
</div>
</div>
<h2 id="data-source">Data Source</h2>
<p>The RAND Indonesian Family Life Survey (IFLS) is an on-going longitudinal survey in Indonesia. The sample is representative of about 83% of the Indonesian population and contains over 30,000 individuals living in 13 of the 27 provinces in the country.</p>
<p>The fifth wave, IFLS-5, where our Capstone Project draws data from, was fielded 2014-15. More information about the survey can be found at this <a href="https://www.rand.org/well-being/social-and-behavioral-policy/data/FLS/IFLS.html">link</a>.</p>
<h2 id="importing-our-dataset">Importing our Dataset</h2>
<p>Our dataset was imported in a two-step process:</p>
<p>Step 1: The IFLS contained over 150 separate datasets in Stata (DTA) format. Our variables were drawn from 7 datasets. As the process of importing, extracting, recoding (wrangling), and combining datasets is only necessary to be performed once, this process is detailed in a separate <code>Rmarkdown</code> document named <code>capstone_Import_data.Rmd</code>. Click <a href="capstone_Import_data.html">here</a> for more details about this process.</p>
<p>The final dataset for use in our analysis is saved as <code>capstone_data.csv</code>.</p>
<p>Step 2: Here we import the dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_recoded</span><span class='op'>&lt;-</span></span>
<span>  <span class='fu'>read_csv</span><span class='op'>(</span><span class='st'>"capstone_data.csv"</span><span class='op'>)</span></span>
<span><span class='fu'>glimpse</span><span class='op'>(</span><span class='va'>data_recoded</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>Rows: 36,581
Columns: 16
$ hhid14_9 &lt;chr&gt; &quot;001060000&quot;, &quot;001060004&quot;, &quot;001060000&quot;, &quot;001060000&quot;,…
$ age      &lt;dbl&gt; 59, 28, 39, 16, 30, 36, 26, 40, 55, 54, 34, 28, 24,…
$ marstat  &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 1, 1, 1, 2, 1, 5, …
$ sex      &lt;dbl&gt; 1, 3, 3, 3, 1, 1, 1, 3, 1, 3, 1, 1, 1, 1, 3, 3, 3, …
$ pidlink  &lt;chr&gt; &quot;001060001&quot;, &quot;001060004&quot;, &quot;001060007&quot;, &quot;001060008&quot;,…
$ dl01f    &lt;chr&gt; &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;M&quot;, &quot;…
$ dl06     &lt;dbl&gt; 1, 1, 1, 2, 2, 1, 1, NA, 1, 1, 4, 4, 4, 4, 1, 2, 1,…
$ sw00     &lt;dbl&gt; 1, 3, 2, 3, 2, 3, 3, 3, 2, 3, 1, 2, 2, 2, 2, 4, 3, …
$ sw01     &lt;dbl&gt; 3, 2, 3, 3, 2, 2, 2, 2, 4, 3, 2, 2, 1, 3, 2, 3, 3, …
$ sw03     &lt;dbl&gt; 4, 2, 3, 3, 2, 2, 3, 2, NA, 2, 2, 3, 5, 5, 3, 5, NA…
$ tk01a    &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, …
$ tr11     &lt;dbl&gt; 3, 2, 4, 3, 3, 2, 4, 3, 3, 3, 4, 3, 4, 3, 4, 3, 3, …
$ kk01     &lt;dbl&gt; 2, 2, 2, 2, 2, 3, 3, 3, 2, 3, 3, 2, 3, 3, 3, 2, 2, …
$ kr03     &lt;dbl&gt; 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, …
$ female   &lt;dbl&gt; 0, 1, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, 0, 1, 1, 1, …
$ fo01     &lt;dbl&gt; 1, 0, 0, 0, 0, 0, 1, 0, NA, -1, 0, 1, 4, 2, 1, 2, N…</code></pre>
</div>
<p>The <code>data_recoded</code> contained 36581 observations.</p>
<h2 id="preparing-the-data-for-regression">Preparing the Data for Regression</h2>
<p>We prepare the data for regression by:</p>
<ol type="1">
<li><p>removing NA data,</p></li>
<li><p>renaming variables to more intuitive names (eg: employ vs tk01a for employment status),</p></li>
<li><p>using <code>mutate</code> to recode each variable,</p></li>
<li><p>using <code>cut</code> to create a new variable <code>generations</code> from <code>age</code>, to hopefully provide opportunity for deeper analysis.</p></li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Here we produce the final data set for regression</span></span>
<span><span class='co'># There is an opportunity to rename variables here</span></span>
<span></span>
<span><span class='va'>data_regression</span><span class='op'>&lt;-</span></span>
<span>  <span class='va'>data_recoded</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>drop_na</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>rename</span><span class='op'>(</span>home_own <span class='op'>=</span> <span class='va'>kr03</span>, <span class='co'>#home ownership</span></span>
<span>         employ <span class='op'>=</span> <span class='va'>tk01a</span>, <span class='co'># employment</span></span>
<span>         religion <span class='op'>=</span> <span class='va'>tr11</span>, <span class='co'>#religion</span></span>
<span>         health <span class='op'>=</span> <span class='va'>kk01</span>, <span class='co'># health</span></span>
<span>         edu <span class='op'>=</span> <span class='va'>dl06</span>, <span class='co'># education</span></span>
<span>         outlook <span class='op'>=</span> <span class='va'>fo01</span>, <span class='co'># future outlook</span></span>
<span>         life_sat <span class='op'>=</span> <span class='va'>sw00</span>, <span class='co'># current life satisfaction</span></span>
<span>         current_econ <span class='op'>=</span> <span class='va'>sw01</span>, <span class='co'># current economic step</span></span>
<span>         future_econ <span class='op'>=</span> <span class='va'>sw03</span>, <span class='co'># future economic step expectation</span></span>
<span>         ethnicity <span class='op'>=</span> <span class='va'>dl01f</span> <span class='co'># ethnicity</span></span>
<span>         <span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>ethnicity <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>ethnicity</span><span class='op'>)</span>, </span>
<span>         marstat <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>marstat</span><span class='op'>)</span>,</span>
<span>         sex <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>sex</span><span class='op'>)</span>,</span>
<span>         edu <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>edu</span><span class='op'>)</span>,</span>
<span>         employ <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>employ</span><span class='op'>)</span>,</span>
<span>         religion <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>religion</span><span class='op'>)</span>,</span>
<span>         health <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>health</span><span class='op'>)</span>,</span>
<span>         home_own <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>home_own</span><span class='op'>)</span>,</span>
<span>         female <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>as.factor</a></span><span class='op'>(</span><span class='va'>female</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>birth_year <span class='op'>=</span> <span class='fl'>2014</span> <span class='op'>-</span> <span class='va'>age</span>,</span>
<span>         generations <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cut.html'>cut</a></span><span class='op'>(</span><span class='va'>birth_year</span>,</span>
<span>                           breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1900</span>, <span class='fl'>1927</span>, <span class='fl'>1945</span>, <span class='fl'>1964</span>, <span class='fl'>1980</span>, <span class='fl'>1996</span>, <span class='fl'>2012</span>, <span class='fl'>2020</span><span class='op'>)</span>,</span>
<span>                           labels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Greatest Generation"</span>,</span>
<span>                                      <span class='st'>"Silent Generation"</span>,</span>
<span>                                      <span class='st'>"Baby Boomers"</span>,</span>
<span>                                      <span class='st'>"Gen X"</span>,</span>
<span>                                      <span class='st'>"Millenials"</span>,</span>
<span>                                      <span class='st'>"Gen Z"</span>,</span>
<span>                                      <span class='st'>"Gen Alpha"</span><span class='op'>)</span></span>
<span>                           <span class='op'>)</span></span>
<span></span>
<span>         <span class='op'>)</span><span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='va'>hhid14_9</span>, <span class='op'>-</span><span class='va'>pidlink</span>, <span class='op'>-</span><span class='va'>birth_year</span><span class='op'>)</span> <span class='co'># removed hhid14_9 and pidlink</span></span></code></pre>
</div>
</div>
<p>After wrangling and removal of missing data, it yielded 28432 responses.</p>
<h2 id="response-and-explanatory-variables">Response and Explanatory Variables</h2>
<p>The project attempts to answer the question “Does property ownership lead to a better perception of oneself and greater optimism for the future?”. As a measure of each individual’s outlook for the future, we extracted two variables from the survey:</p>
<ol type="1">
<li><p>sw01 (named current_econ): On which economic step do you consider yourself now? Respondents were asked to rate themselves on a scale of 1 (poorest) to 5 (richest).</p></li>
<li><p>sw03 (named future_econ): On which economic step do you consider yourself to be in 5 years? Respondents were again asked to rate themselves on a scale of 1 (poorest) to 5 (richest).</p></li>
</ol>
<p>From these 2 variables, we constructed a response variable Future Outlook (named outlook in the dataset), where:</p>
<center>
<strong>outlook = future_econ - current_econ</strong>
</center>
<p>
<p>A positive outlook score implies optimism about one’s future, while a negative score implies pessimism.</p>
<p>We explored the impact of 10 explanatory variables on one’s outlook. They are:</p>
<ol type="1">
<li><p>home_own: Home ownership, where a response of 0 indicated that the respondent did not own a property, while a response of 1 indicated property ownership.This is our variable of interest, and serves to answer our research question on the impact of property ownership on our outcome variable.</p></li>
<li><p>sex: Gender of respondents were coded 1 for male, and 3 for female.</p></li>
<li><p>marstat: Maritial status of respondents, coded 1 never married, 2 married, 3 separated, 4 divorced, 5 widow(er), 6 cohabitate</p></li>
<li><p>age/generations: responded as a numeric variable. In addition to age, we classified each respondent into his/her respective social generation using their year of birth. Greatest Generation (1900 to 1927), Silent Generation (1928 to 1945), Baby Boomers (1946 to 1964), Gen X (1965 to 1980), Millenials also known as Gen Y (1981 to 1996), Gen Z (1997 to 2012), and Generation Alpha (2020 to present).</p></li>
<li><p>life_sat: Life Satisfaction, where responses ranged from 1 for “Not at all satisfied” to 5 for “completely satisfied”.</p></li>
<li><p>edu: Education level of respondent, coded 0 for “don’t know, no schooling, or school for the disabled”, 1 for kindergarten, elementary, islamic elementary, 2 for junior high (normal, vocational and Islamic), 3 for senior hi(normal, vocational and Islamic), 4 for college and university (undergraduate, masters, doctorate), and 5 for adult education, open university and Islamic school.</p></li>
<li><p>employ: Employment, coded 0 for “unemployed” or “prefer not to say” and 1 for “employed”</p></li>
<li><p>health: Respondents were asked to rank their physical health status. Responses were recoded as 1 for “unhealthy”, 2 “somewhat unhealthy”, 3 “somewhat healthy” and 4 “healthy”</p></li>
<li><p>religion: Respondents were asked “how religious do they see themselves”. Reponses were recoded as 0 “refused to say”, 1 “not religious”, 2 “somewhat religious”, 3 “religious” and 4 “very religious”.</p></li>
<li><p>ethnicity: We attempted to perform the analysis using ethnicity as a variable. However, as there were over 20 different classifications and sometimes multiple classifications per individual (mixed ethnicity), and given our lack of familiarity with ethnicity in Indonesia, this variable was subsequently dropped.</p></li>
</ol>
<p>We use <code>skim()</code> from the <code>skimr</code> package to quickly provide a broad overview of the data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>skim</span><span class='op'>(</span><span class='va'>data_regression</span><span class='op'>)</span></span></code></pre>
</div>
<table>
<caption><span id="tab:skim-data-regression">Table 1: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td style="text-align: left;">Name</td>
<td style="text-align: left;">data_regression</td>
</tr>
<tr class="even">
<td style="text-align: left;">Number of rows</td>
<td style="text-align: left;">28432</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Number of columns</td>
<td style="text-align: left;">15</td>
</tr>
<tr class="even">
<td style="text-align: left;">_______________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Column type frequency:</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">factor</td>
<td style="text-align: left;">10</td>
</tr>
<tr class="odd">
<td style="text-align: left;">numeric</td>
<td style="text-align: left;">5</td>
</tr>
<tr class="even">
<td style="text-align: left;">________________________</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Group variables</td>
<td style="text-align: left;">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 10%" />
<col style="width: 14%" />
<col style="width: 8%" />
<col style="width: 9%" />
<col style="width: 44%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: left;">ordered</th>
<th style="text-align: right;">n_unique</th>
<th style="text-align: left;">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">marstat</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">2: 20653, 1: 5966, 5: 1128, 4: 554</td>
</tr>
<tr class="even">
<td style="text-align: left;">sex</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">3: 14926, 1: 13506</td>
</tr>
<tr class="odd">
<td style="text-align: left;">ethnicity</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">82</td>
<td style="text-align: left;">A: 12370, B: 3593, I: 1530, H: 1286</td>
</tr>
<tr class="even">
<td style="text-align: left;">edu</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">3: 9628, 1: 8551, 2: 5623, 4: 4190</td>
</tr>
<tr class="odd">
<td style="text-align: left;">employ</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1: 19042, 0: 9390</td>
</tr>
<tr class="even">
<td style="text-align: left;">religion</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">3: 17004, 2: 6041, 4: 4635, 1: 719</td>
</tr>
<tr class="odd">
<td style="text-align: left;">health</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">4</td>
<td style="text-align: left;">3: 17183, 2: 5488, 4: 5463, 1: 298</td>
</tr>
<tr class="even">
<td style="text-align: left;">home_own</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1: 21092, 0: 7340</td>
</tr>
<tr class="odd">
<td style="text-align: left;">female</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">2</td>
<td style="text-align: left;">1: 14926, 0: 13506</td>
</tr>
<tr class="even">
<td style="text-align: left;">generations</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">FALSE</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">Mil: 11556, Gen: 9427, Bab: 4584, Gen: 2179</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table style="width:100%;">
<colgroup>
<col style="width: 18%" />
<col style="width: 13%" />
<col style="width: 18%" />
<col style="width: 7%" />
<col style="width: 7%" />
<col style="width: 3%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 5%" />
<col style="width: 6%" />
<col style="width: 7%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">skim_variable</th>
<th style="text-align: right;">n_missing</th>
<th style="text-align: right;">complete_rate</th>
<th style="text-align: right;">mean</th>
<th style="text-align: right;">sd</th>
<th style="text-align: right;">p0</th>
<th style="text-align: right;">p25</th>
<th style="text-align: right;">p50</th>
<th style="text-align: right;">p75</th>
<th style="text-align: right;">p100</th>
<th style="text-align: left;">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">age</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">36.19</td>
<td style="text-align: right;">14.23</td>
<td style="text-align: right;">14</td>
<td style="text-align: right;">25</td>
<td style="text-align: right;">34</td>
<td style="text-align: right;">45</td>
<td style="text-align: right;">101</td>
<td style="text-align: left;">▇▇▃▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">life_sat</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.33</td>
<td style="text-align: right;">0.80</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">▁▂▇▇▁</td>
</tr>
<tr class="odd">
<td style="text-align: left;">current_econ</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3.05</td>
<td style="text-align: right;">0.92</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">▃▇▅▁▁</td>
</tr>
<tr class="even">
<td style="text-align: left;">future_econ</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">4.16</td>
<td style="text-align: right;">1.19</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">6</td>
<td style="text-align: left;">▂▅▇▇▃</td>
</tr>
<tr class="odd">
<td style="text-align: left;">outlook</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1.11</td>
<td style="text-align: right;">1.00</td>
<td style="text-align: right;">-5</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">5</td>
<td style="text-align: left;">▁▁▇▃▁</td>
</tr>
</tbody>
</table>
</div>
<h2 id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<p>The mean age of our survey respondents is 36.2 years old. The plot below shows the age distribution of these respondents.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>age_dist</span><span class='op'>&lt;-</span></span>
<span>  <span class='va'>data_regression</span> <span class='op'>%&gt;%</span> </span>
<span>    <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>age</span>, fill <span class='op'>=</span> <span class='va'>generations</span><span class='op'>)</span></span>
<span>           <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_histogram</span><span class='op'>(</span>binwidth <span class='op'>=</span> <span class='fl'>1</span>,</span>
<span>                 alpha <span class='op'>=</span> <span class='fl'>0.7</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>age</span><span class='op'>)</span></span>
<span>                 <span class='op'>)</span>,</span>
<span>              color <span class='op'>=</span> <span class='st'>"blue"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>geom_text</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>age</span><span class='op'>)</span><span class='op'>-</span><span class='fl'>2</span>, <span class='co'># add a text label for mean age</span></span>
<span>                y <span class='op'>=</span> <span class='fl'>500</span>,</span>
<span>                label <span class='op'>=</span> <span class='fu'>glue</span><span class='op'>(</span><span class='st'>"Mean Age = {round(mean(age),1)}"</span><span class='op'>)</span></span>
<span>                <span class='op'>)</span>,</span>
<span>            color <span class='op'>=</span> <span class='st'>"blue"</span>,</span>
<span>            size <span class='op'>=</span> <span class='fl'>3</span>,</span>
<span>            angle <span class='op'>=</span> <span class='fl'>90</span><span class='op'>)</span><span class='op'>+</span> </span>
<span>  <span class='fu'>scale_x_continuous</span><span class='op'>(</span>name <span class='op'>=</span> <span class='st'>"Age"</span>,</span>
<span>                     limits <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data_regression</span><span class='op'>$</span><span class='va'>age</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data_regression</span><span class='op'>$</span><span class='va'>age</span><span class='op'>)</span><span class='op'>+</span><span class='fl'>5</span><span class='op'>)</span>,</span>
<span>                     breaks <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span>from <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>min</a></span><span class='op'>(</span><span class='va'>data_regression</span><span class='op'>$</span><span class='va'>age</span><span class='op'>)</span>, to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Extremes.html'>max</a></span><span class='op'>(</span><span class='va'>data_regression</span><span class='op'>$</span><span class='va'>age</span><span class='op'>)</span><span class='op'>+</span><span class='fl'>5</span>, by <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span></span>
<span>                     <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Age Distribution of Survey Respondents"</span>,</span>
<span>       y <span class='op'>=</span> <span class='st'>"Number of Respondents"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        legend.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,</span>
<span>        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.9</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span></span>
<span>                                  <span class='op'>)</span></span>
<span>        <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>guides</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='fu'>guide_legend</span><span class='op'>(</span>nrow <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>age_dist</span></span></code></pre>
</div>
<div class="figure"><span style="display:block;" id="fig:plot-age-dist"></span>
<img src="capstone_home_ownership_optimism_files/figure-html5/plot-age-dist-1.png" alt="Age Distribution of Survey Respondents" width="864" />
<p class="caption">
Figure 1: Age Distribution of Survey Respondents
</p>
</div>
</div>
<p>Next, we explored respondent’s outlook by current economic standing.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>outlook_dist2</span><span class='op'>&lt;-</span></span>
<span>  <span class='va'>data_regression</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x<span class='op'>=</span><span class='va'>outlook</span>, fill <span class='op'>=</span> <span class='va'>generations</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_histogram</span><span class='op'>(</span>binwidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_vline</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>xintercept <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>,</span>
<span>             color<span class='op'>=</span><span class='st'>"black"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='op'>~</span><span class='va'>current_econ</span>,</span>
<span>             nrow<span class='op'>=</span><span class='fl'>2</span>,</span>
<span>             scale <span class='op'>=</span> <span class='st'>"free_y"</span><span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Future outlook by perception of current economic standing"</span>,</span>
<span>       y <span class='op'>=</span> <span class='st'>"Number of Respondents"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        legend.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,</span>
<span>        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.9</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span></span>
<span>                                  <span class='op'>)</span></span>
<span>        <span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>guides</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='fu'>guide_legend</span><span class='op'>(</span>nrow <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span></span>
<span></span>
<span><span class='va'>outlook_dist2</span>  </span></code></pre>
</div>
<div class="figure"><span style="display:block;" id="fig:plot-outlook-current-econ"></span>
<img src="capstone_home_ownership_optimism_files/figure-html5/plot-outlook-current-econ-1.png" alt="Future Outlook of Respondents by Perception of Current Economic Standing" width="864" />
<p class="caption">
Figure 2: Future Outlook of Respondents by Perception of Current Economic Standing
</p>
</div>
</div>
<p>There are a couple of interesting observations. A majority of respondents who perceive themselves of low current economic standing (score 1 to 3) are optimistic about their future outlook (score &gt; 0). On the other hand, respondents who perceive themselves of high current economic standing (score 5 and 6) are less optimistic of their future outlook.</p>
<p>Lastly, we look at Outlook by Current Economic Standing, for each generation. Here we can see different slopes across some generations, implying that there are interaction effects between age and current_econ. This will be explored later in our model.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_regression</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>current_econ</span>,</span>
<span>             y <span class='op'>=</span> <span class='va'>outlook</span>,</span>
<span>             color <span class='op'>=</span> <span class='va'>generations</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'>+</span></span>
<span>  <span class='fu'>geom_point</span><span class='op'>(</span>position <span class='op'>=</span> <span class='st'>"jitter"</span>,</span>
<span>             alpha <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>geom_smooth</span><span class='op'>(</span>method <span class='op'>=</span> <span class='st'>"lm"</span>,</span>
<span>              se <span class='op'>=</span> <span class='cn'>FALSE</span>,</span>
<span>              color <span class='op'>=</span> <span class='st'>"black"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>facet_wrap</span><span class='op'>(</span><span class='va'>.</span><span class='op'>~</span><span class='va'>generations</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Outlook by perception of current economic standing"</span>,</span>
<span>       y <span class='op'>=</span> <span class='st'>"Outlook"</span>,</span>
<span>       x <span class='op'>=</span> <span class='st'>"Current Economic Standing"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        legend.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        legend.position <span class='op'>=</span> <span class='st'>"none"</span>,</span>
<span>        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.9</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        plot.subtitle <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.8</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span></span>
<span>                                  <span class='op'>)</span></span>
<span>        <span class='op'>)</span></span></code></pre>
</div>
<div class="figure"><span style="display:block;" id="fig:plot-outlook-generations"></span>
<img src="capstone_home_ownership_optimism_files/figure-html5/plot-outlook-generations-1.png" alt="Future Outlook of Respondents (facet by Generations) by Perception of Current Economic Standing" width="864" />
<p class="caption">
Figure 3: Future Outlook of Respondents (facet by Generations) by Perception of Current Economic Standing
</p>
</div>
</div>
<h2 id="correlation-analysis">Correlation Analysis</h2>
<p>For the preparation of the model, we created and ran a correlational matrix, to see how our variables of interest (within the model) are related.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>data_regression</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='va'>ethnicity</span>, <span class='op'>-</span><span class='va'>generations</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>Hmisc</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/Hmisc/man/rcorr.html'>rcorr</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>broom</span><span class='fu'>::</span><span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>rename</span><span class='op'>(</span>variable_1 <span class='op'>=</span> <span class='va'>column1</span>,</span>
<span>       variable_2 <span class='op'>=</span> <span class='va'>column2</span>,</span>
<span>       corr <span class='op'>=</span> <span class='va'>estimate</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>mutate</span><span class='op'>(</span>abs_corr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>abs</a></span><span class='op'>(</span><span class='va'>corr</span><span class='op'>)</span>,<span class='fl'>3</span><span class='op'>)</span>,</span>
<span>         corr <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>corr</span>,<span class='fl'>3</span><span class='op'>)</span>,</span>
<span>         p.value <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>p.value</span>,<span class='fl'>3</span><span class='op'>)</span></span>
<span>         <span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>relocate</span><span class='op'>(</span><span class='va'>abs_corr</span>, .after <span class='op'>=</span> <span class='va'>corr</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>select</span><span class='op'>(</span><span class='op'>-</span><span class='va'>n</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>arrange</span><span class='op'>(</span><span class='op'>-</span><span class='va'>abs_corr</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>DT</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/DT/man/datatable.html'>datatable</a></span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<div class="datatables html-widget html-fill-item" id="htmlwidget-ab859048353cf10b4e76" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ab859048353cf10b4e76">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78"],["female","outlook","future_econ","marstat","edu","employ","female","future_econ","outlook","future_econ","edu","current_econ","outlook","current_econ","future_econ","religion","employ","future_econ","home_own","health","sex","female","health","outlook","home_own","religion","outlook","health","religion","home_own","religion","health","life_sat","life_sat","outlook","employ","health","religion","female","current_econ","female","future_econ","female","current_econ","health","health","female","current_econ","life_sat","health","female","employ","outlook","life_sat","home_own","employ","home_own","outlook","edu","female","sex","female","religion","employ","home_own","home_own","outlook","home_own","outlook","outlook","employ","religion","home_own","female","health","religion","outlook","home_own"],["sex","future_econ","current_econ","age","age","sex","employ","age","age","edu","marstat","life_sat","current_econ","edu","life_sat","age","age","marstat","age","life_sat","marstat","marstat","age","marstat","edu","life_sat","edu","future_econ","edu","religion","marstat","marstat","age","edu","home_own","marstat","current_econ","sex","religion","sex","current_econ","sex","future_econ","marstat","edu","sex","health","age","sex","religion","life_sat","future_econ","religion","marstat","marstat","current_econ","current_econ","health","sex","edu","age","age","current_econ","life_sat","life_sat","future_econ","employ","employ","sex","female","edu","future_econ","sex","home_own","employ","employ","life_sat","health"],[1,0.654,0.577,0.529,-0.335,-0.309,-0.309,-0.288,-0.283,0.261,-0.244,0.241,-0.24,0.215,0.184,0.172,0.171,-0.17,0.168,0.154,0.152,0.152,-0.146,-0.131,-0.123,0.119,0.111,0.109,-0.098,0.098,0.095,-0.095,-0.091,0.089,-0.089,0.08799999999999999,0.08799999999999999,0.08599999999999999,0.08599999999999999,0.08400000000000001,0.08400000000000001,0.083,0.083,-0.077,0.06900000000000001,-0.066,-0.066,-0.064,0.062,0.062,0.062,-0.058,-0.058,-0.057,0.055,-0.05,0.048,0.048,-0.047,-0.047,-0.046,-0.046,0.043,-0.041,0.041,-0.038,-0.024,0.02,0.02,0.02,-0.019,-0.015,0.014,0.014,0.013,0.008999999999999999,-0.005,0.002],[1,0.654,0.577,0.529,0.335,0.309,0.309,0.288,0.283,0.261,0.244,0.241,0.24,0.215,0.184,0.172,0.171,0.17,0.168,0.154,0.152,0.152,0.146,0.131,0.123,0.119,0.111,0.109,0.098,0.098,0.095,0.095,0.091,0.089,0.089,0.08799999999999999,0.08799999999999999,0.08599999999999999,0.08599999999999999,0.08400000000000001,0.08400000000000001,0.083,0.083,0.077,0.06900000000000001,0.066,0.066,0.064,0.062,0.062,0.062,0.058,0.058,0.057,0.055,0.05,0.048,0.048,0.047,0.047,0.046,0.046,0.043,0.041,0.041,0.038,0.024,0.02,0.02,0.02,0.019,0.015,0.014,0.014,0.013,0.008999999999999999,0.005,0.002],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.001,0.001,0.001,0.001,0.014,0.022,0.022,0.025,0.129,0.412,0.792]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>variable_1<\/th>\n      <th>variable_2<\/th>\n      <th>corr<\/th>\n      <th>abs_corr<\/th>\n      <th>p.value<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[3,4,5]},{"orderable":false,"targets":0},{"name":" ","targets":0},{"name":"variable_1","targets":1},{"name":"variable_2","targets":2},{"name":"corr","targets":3},{"name":"abs_corr","targets":4},{"name":"p.value","targets":5}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<p>We noted that life satisfaction had positive correlation of around 0.241 with current economic status, there is reason to believe they capture roughly something similar. We will exclude life satisfaction to reduce multicollinearity in our model.</p>
<h2 id="ordinary-least-square-model">Ordinary Least Square Model</h2>
<p>We ran four regression models.</p>
<h3 id="barebones-base-model">“Barebones” Base Model</h3>
<p>In our basic model, we regressed home ownership (home_own) onto outlook (<code>model1</code>), to see the ‘barebones’ relationship between home ownership and future outlook.</p>
<p><span class="math display">\[
\begin{eqnarray}
\widehat{outlook} = intercept + b_1home\_own + \epsilon
\end{eqnarray}
\]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model1</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>outlook</span> <span class='op'>~</span> <span class='va'>home_own</span>,</span>
<span>     data <span class='op'>=</span> <span class='va'>data_regression</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model1</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own, data = data_regression)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.0609 -0.2635 -0.0609  0.7365  3.9391 

Coefficients:
            Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.26349    0.01160  108.88   &lt;2e-16 ***
home_own1   -0.20256    0.01347  -15.04   &lt;2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.9942 on 28430 degrees of freedom
Multiple R-squared:  0.007888,  Adjusted R-squared:  0.007853 
F-statistic:   226 on 1 and 28430 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>The results of the regression analysis was contrary to our expectations (<em>John Steinbeck is WRONG</em>)! Outlook appears to diminish (-0.203) if you own a property. We will investigate if the direction and magnitude of this relationship will continue when control variables are added to the model.</p>
<h3 id="model-with-demographic-control-variables">Model with Demographic Control Variables</h3>
<p>We went on to add demographic controls to the model— such as age and gender.</p>
<p><span class="math display">\[
\begin{eqnarray}
\widehat{outlook} = intercept + b_1home\_own  + b_2age + b_3female + \epsilon
\end{eqnarray}
\]</span></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model2</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>outlook</span> <span class='op'>~</span> <span class='va'>home_own</span> <span class='op'>+</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>female</span>,</span>
<span>     data <span class='op'>=</span> <span class='va'>data_regression</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model2</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + age + female, data = data_regression)

Residuals:
    Min      1Q  Median      3Q     Max 
-6.4856 -0.4892 -0.1379  0.5530  4.9017 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  1.876092   0.018318 102.416  &lt; 2e-16 ***
home_own1   -0.097145   0.013152  -7.386 1.55e-13 ***
age         -0.019318   0.000405 -47.699  &lt; 2e-16 ***
female1      0.015765   0.011374   1.386    0.166    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.9565 on 28428 degrees of freedom
Multiple R-squared:  0.08183,   Adjusted R-squared:  0.08173 
F-statistic: 844.5 on 3 and 28428 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>As age and gender are statistically significant in predicting future economic outlook, it is a good thing we controlled for them. Controlling for these characteristics, the effect size of home ownership increased. Here we use the <code>model_variable_true_regression_function</code> function which we wrote to prepare the models for reporting.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'># Prepare models for reporting</span></span>
<span><span class='va'>model_used</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>model1</span>,</span>
<span>                   <span class='va'>model2</span></span>
<span>                   <span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>model_used</span>,</span>
<span>       <span class='va'>model_variable_true_regression_function</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[[1]]
# A tibble: 2 × 6
  term             b     SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Intercept)  1.26  0.0116   0.0227             1.29  sig            
2 home_own1   -0.203 0.0135   0.0264            -0.176 sig            

[[2]]
# A tibble: 4 × 6
  term            b      SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Interce…  1.88   1.83e-2 0.0359              1.91   sig            
2 home_own1 -0.0971 1.32e-2 0.0258             -0.0714 sig            
3 age       -0.0193 4.05e-4 0.000794           -0.0185 sig            
4 female1    0.0158 1.14e-2 0.0223              0.0381 NULL           </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>export_summs</span><span class='op'>(</span><span class='va'>model1</span>, </span>
<span>             <span class='va'>model2</span>,</span>
<span>             model.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Base Model"</span>,</span>
<span>                             <span class='st'>"Base Model with \nDemographic Controls"</span><span class='op'>)</span>,</span>
<span>             digits <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>    ──────────────────────────────────────────────────────
                     Base Model       Base Model with     
                                    Demographic Controls  
                  ────────────────────────────────────────
      (Intercept)       1.263 ***              1.876 ***  
                       (0.012)                (0.018)     
      home_own1        -0.203 ***             -0.097 ***  
                       (0.013)                (0.013)     
      age                                     -0.019 ***  
                                              (0.000)     
      female1                                  0.016      
                                              (0.011)     
                  ────────────────────────────────────────
      N             28432                  28432          
      R2                0.008                  0.082      
    ──────────────────────────────────────────────────────
      *** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.             </code></pre>
<p>Column names: names, Base Model, Base Model with Demographic Controls</p>
</div>
<p>Initially, we had included marital status but when this variable was explored, we noticed that there are very few observations in some of the categories, this would make its inclusion in the model difficult as there is too little variation within group for analysis to take place.</p>
<p>We also considered ethnicity but there were some complications in analysing this. Did you know Indonesia has &gt;1000 ethnic groups? Though the Javanese are the largest ethnic group, they do not form the majority. While we considered merging some groups together to reduce the number of groups as well as to increase the number of respondents within each group (some groups were very sparse with only a handful of respondents), without understanding the historical and cultural nuance, it was difficult to merge groups together. In addition, there were individuals who identified as belonging to more than one ethnic group.</p>
<h3 id="model-with-current-economic-status">Model with Current Economic Status</h3>
<p>In our next model (<code>model3</code>), we added current economic outlook to the model with our two demographic controls. This allows us to compare the effect of home ownership on outlook while controlling for individuals who may be at different economic statuses currently.</p>
<span class="math display">\[
\begin{eqnarray}
\widehat{outlook} = intercept + b_1home\_own + b_2current\_econ + b_3age + b_4female + \epsilon
\end{eqnarray}
\]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model3</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>outlook</span> <span class='op'>~</span> <span class='va'>home_own</span> <span class='op'>+</span> <span class='va'>current_econ</span> <span class='op'>+</span> <span class='va'>age</span> <span class='op'>+</span> <span class='va'>female</span>,</span>
<span>     data <span class='op'>=</span> <span class='va'>data_regression</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model3</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + current_econ + age + female, 
    data = data_regression)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.7103 -0.5180 -0.0838  0.5364  4.4047 

Coefficients:
               Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   2.7309365  0.0252729 108.058  &lt; 2e-16 ***
home_own1    -0.0625284  0.0126863  -4.929 8.32e-07 ***
current_econ -0.2810045  0.0059494 -47.233  &lt; 2e-16 ***
age          -0.0205986  0.0003909 -52.692  &lt; 2e-16 ***
female1       0.0575173  0.0109880   5.235 1.67e-07 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.921 on 28427 degrees of freedom
Multiple R-squared:  0.1486,    Adjusted R-squared:  0.1485 
F-statistic:  1241 on 4 and 28427 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<h3 id="model-substituting-age-with-generations">Model Substituting Age with Generations</h3>
<p>We took our final model one step further (<code>model3_gen</code>) by replacing age with generations, which allowed us to investigate if there were any changes to outlook by generations.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model3_gen</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>outlook</span> <span class='op'>~</span> <span class='va'>home_own</span> <span class='op'>+</span> <span class='va'>current_econ</span> <span class='op'>+</span> <span class='va'>generations</span> <span class='op'>+</span> <span class='va'>female</span>,</span>
<span>     data <span class='op'>=</span> <span class='va'>data_regression</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model3_gen</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + current_econ + generations + 
    female, data = data_regression)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.6021 -0.4911 -0.0922  0.6299  4.0562 

Coefficients:
                              Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)                   1.520254   0.247518   6.142 8.26e-10
home_own1                    -0.061593   0.012769  -4.823 1.42e-06
current_econ                 -0.275801   0.005973 -46.174  &lt; 2e-16
generationsSilent Generation -0.300680   0.249642  -1.204  0.22843
generationsBaby Boomers      -0.045644   0.247478  -0.184  0.85367
generationsGen X              0.401595   0.247293   1.624  0.10439
generationsMillenials         0.670277   0.247284   2.711  0.00672
generationsGen Z              0.738884   0.247939   2.980  0.00288
female1                       0.059333   0.011038   5.376 7.70e-08
                                
(Intercept)                  ***
home_own1                    ***
current_econ                 ***
generationsSilent Generation    
generationsBaby Boomers         
generationsGen X                
generationsMillenials        ** 
generationsGen Z             ** 
female1                      ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.9242 on 28423 degrees of freedom
Multiple R-squared:  0.1428,    Adjusted R-squared:  0.1426 
F-statistic: 591.9 on 8 and 28423 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>When analyzed across generations rather than age, we observe contrasting effects. Analyzing by generation is essentially a comparison across the means of each group. Grouping the age variable allows comparison across groups which may have experienced different economic conditions and are at different life stages. In this analysis, our reference group is the ‘Greatest Generation.’ This group consists of those born before 1927 and are the oldest group of respondents in the sample.</p>
<p>We see that the generations born after them are slightly more pessimistic about their future outlook (Silent Generation and Baby Boomers), though this is not statistically significant, hence it is possible that all those born before 1964 do not have notable differences in terms of future outlook.</p>
<p>However, when comparing the Greatest Generation with Millenials and Gen Z, we see that there are statistically significant differences. Compared to the Greatest Generation, Millenials are more optimistic about their future outlook. Similarly, Gen Zs are more optimistic than those in Greatest Generation. This may be expected, since younger generations have a longer way ahead of them and possess the energy to carve a road for themselves as compared to the Greatest Generation, who may be in their sunset years and do not see their outlook varying much in the coming years.</p>
<h3 id="model-with-interactions">Model with Interactions</h3>
<p>In our final model (<code>model4</code>), we consider the interaction effect of age on current economic status. Logically, there is reason to believe there is an interaction effect between these two terms. The effect of current economic status on future economic outlook is likely to differ by age.</p>
<p>For example, those who are in poorer current economic status may have a more pessimistic outlook, but those who are younger may be more optimistic than those who are older (maybe youthful vigor?). As such, we added this interaction term to capture these effects.</p>
<span class="math display">\[
\begin{eqnarray}
\widehat{outlook} = intercept + b_1home\_own + b_2current\_econ + b_3age + b_4female + b_5current\_econ * age + \epsilon  
\end{eqnarray}
\]</span>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model4</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/stats/lm.html'>lm</a></span><span class='op'>(</span><span class='va'>outlook</span> <span class='op'>~</span> <span class='va'>home_own</span> <span class='op'>+</span> <span class='va'>age</span><span class='op'>*</span><span class='va'>current_econ</span> <span class='op'>+</span> <span class='va'>female</span>,</span>
<span>     data <span class='op'>=</span> <span class='va'>data_regression</span><span class='op'>)</span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/summary.html'>summary</a></span><span class='op'>(</span><span class='va'>model4</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + age * current_econ + female, 
    data = data_regression)

Residuals:
    Min      1Q  Median      3Q     Max 
-5.4906 -0.5291 -0.0693  0.5213  4.7493 

Coefficients:
                   Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)       3.1314562  0.0521275  60.073  &lt; 2e-16 ***
home_own1        -0.0614472  0.0126699  -4.850 1.24e-06 ***
age              -0.0311293  0.0012611 -24.683  &lt; 2e-16 ***
current_econ     -0.4117695  0.0160326 -25.683  &lt; 2e-16 ***
female1           0.0575191  0.0109733   5.242 1.60e-07 ***
age:current_econ  0.0034563  0.0003936   8.781  &lt; 2e-16 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 0.9198 on 28426 degrees of freedom
Multiple R-squared:  0.1509,    Adjusted R-squared:  0.1508 
F-statistic:  1011 on 5 and 28426 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>We find the interaction term to be statistically significant 😀</p>
<p>We will take a deeper look into this interaction effect in a way that is easier to visualise. Since current economic status runs from 1 to 6, we will treat it as a continuous variable.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>interact_plot</span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>model4</span>, </span>
<span>              pred<span class='op'>=</span> <span class='va'>age</span>, </span>
<span>              modx <span class='op'>=</span> <span class='va'>current_econ</span>,</span>
<span>              interval <span class='op'>=</span> <span class='cn'>T</span>, </span>
<span>              legend.main <span class='op'>=</span> <span class='st'>"Current Economic Status"</span>,</span>
<span>              main.title <span class='op'>=</span> <span class='st'>"Interaction Plot for Model 4"</span>,</span>
<span>              y.label <span class='op'>=</span> <span class='st'>"Future Outlook"</span>,</span>
<span>              x.label <span class='op'>=</span> <span class='st'>"Age"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"bottom"</span><span class='op'>)</span></span></code></pre>
</div>
<div class="figure"><span style="display:block;" id="fig:plot-interact-age-current-econ"></span>
<img src="capstone_home_ownership_optimism_files/figure-html5/plot-interact-age-current-econ-1.png" alt="Interaction Plot of Model 4" width="864" />
<p class="caption">
Figure 4: Interaction Plot of Model 4
</p>
</div>
</div>
<p>We see that those whose current economic statuses are better, seem to report lower future outlook scores even when compared across the same age. Based on this interaction plot, we see that the interaction effect is strongest when the respondent is young. As they get older, the effect of economic status on future outlook seems to diminish.</p>
<h3 id="simple-slopes-analysis">Simple Slopes Analysis</h3>
<p>We also ran Simple Slopes Analysis to get a greater understanding of interacting effects in <code>model4</code>, using the <code>sim_slopes()</code> function from the <code>interactions</code> package.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>sim_slopes</span><span class='op'>(</span>model <span class='op'>=</span> <span class='va'>model4</span>,</span>
<span>          pred <span class='op'>=</span> <span class='va'>current_econ</span>, </span>
<span>          modx <span class='op'>=</span> <span class='va'>age</span>, </span>
<span>          johnson_neyman <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>JOHNSON-NEYMAN INTERVAL 

When age is OUTSIDE the interval [103.99, 142.81], the slope of
current_econ is p &lt; .05.

Note: The range of observed values of age is [14.00, 101.00]

SIMPLE SLOPES ANALYSIS 

Slope of current_econ when age = 21.96236 (- 1 SD): 

   Est.   S.E.   t val.      p
------- ------ -------- ------
  -0.34   0.01   -38.96   0.00

Slope of current_econ when age = 36.18873 (Mean): 

   Est.   S.E.   t val.      p
------- ------ -------- ------
  -0.29   0.01   -47.97   0.00

Slope of current_econ when age = 50.41510 (+ 1 SD): 

   Est.   S.E.   t val.      p
------- ------ -------- ------
  -0.24   0.01   -30.71   0.00</code></pre>
</div>
<p>Based on the result, interaction effect is not significant above the age of 103.</p>
<h2 id="reporting-of-results">Reporting of Results</h2>
<p>Here is a summary of our four regression models:</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>model_used</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>model1</span>,</span>
<span>                   <span class='va'>model2</span>,</span>
<span>                   <span class='va'>model3</span>,</span>
<span>                   <span class='va'>model4</span><span class='op'>)</span></span>
<span></span>
<span><span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>lapply</a></span><span class='op'>(</span><span class='va'>model_used</span>,</span>
<span>       <span class='va'>model_variable_true_regression_function</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>[[1]]
# A tibble: 2 × 6
  term             b     SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Intercept)  1.26  0.0116   0.0227             1.29  sig            
2 home_own1   -0.203 0.0135   0.0264            -0.176 sig            

[[2]]
# A tibble: 4 × 6
  term            b      SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Interce…  1.88   1.83e-2 0.0359              1.91   sig            
2 home_own1 -0.0971 1.32e-2 0.0258             -0.0714 sig            
3 age       -0.0193 4.05e-4 0.000794           -0.0185 sig            
4 female1    0.0158 1.14e-2 0.0223              0.0381 NULL           

[[3]]
# A tibble: 5 × 6
  term            b      SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Interce…  2.73   2.53e-2 0.0495              2.78   sig            
2 home_own1 -0.0625 1.27e-2 0.0249             -0.0377 sig            
3 current_… -0.281  5.95e-3 0.0117             -0.269  sig            
4 age       -0.0206 3.91e-4 0.000766           -0.0198 sig            
5 female1    0.0575 1.10e-2 0.0215              0.0791 sig            

[[4]]
# A tibble: 6 × 6
  term            b      SE Z95_x_SE CI_95_upper_bound significance_95
  &lt;chr&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;             &lt;dbl&gt; &lt;chr&gt;          
1 (Interc…  3.13    5.21e-2 0.102              3.23    sig            
2 home_ow… -0.0614  1.27e-2 0.0248            -0.0366  sig            
3 age      -0.0311  1.26e-3 0.00247           -0.0287  sig            
4 current… -0.412   1.60e-2 0.0314            -0.380   sig            
5 female1   0.0575  1.10e-2 0.0215             0.0790  sig            
6 age:cur…  0.00346 3.94e-4 0.000771           0.00423 sig            </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>export_summs</span><span class='op'>(</span><span class='va'>model1</span>, <span class='va'>model2</span>, <span class='va'>model3</span>, <span class='va'>model4</span>,</span>
<span>             model.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Base Model"</span>,</span>
<span>                             <span class='st'>"Base Model with Demographic Controls"</span>,</span>
<span>                             <span class='st'>"Base Model, Demographic Controls,\nCurrent Economic Outlook"</span>,</span>
<span>                             <span class='st'>"Base Model, Demographic Controls,\nCurrent Economic Outlook\nwith interactions"</span><span class='op'>)</span>,</span>
<span>             error_format <span class='op'>=</span> <span class='st'>"[{conf.low}:{conf.high}]"</span>,</span>
<span>             digits <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span></span></code></pre>
</div>
<p>──────────────────────────────────────────────────────────────────
Base Model Base Model Base Base<br />
with Model, Model,<br />
Demographi Demographi Demographi<br />
c Controls c c<br />
Controls, Controls,<br />
Current Current<br />
Economic Economic<br />
Outlook Outlook<br />
with<br />
interactio<br />
ns<br />
─────────────────────────────────────────────────────
(Intercept 1.263 *** 1.876 *** 2.731 *** 3.131 ***<br />
)<br />
[1.241:1.2 [1.840:1.9 [2.681:2.7 [3.029:3.2<br />
86]    12]    80]    34]   <br />
home_own1 -0.203 *** -0.097 *** -0.063 *** -0.061 ***<br />
[-0.229:-0 [-0.123:-0 [-0.087:-0 [-0.086:-0<br />
.176]    .071]    .038]    .037]   <br />
age          -0.019 *** -0.021 *** -0.031 ***<br />
         [-0.020:-0 [-0.021:-0 [-0.034:-0<br />
.019]    .020]    .029]   <br />
female1          0.016     0.058 *** 0.058 ***<br />
         [-0.007:0. [0.036:0.0 [0.036:0.0<br />
038]    79]    79]   <br />
current_ec                   -0.281 *** -0.412 ***<br />
on<br />
                  [-0.293:-0 [-0.443:-0<br />
.269]    .380]   <br />
age:curren                            0.003 ***<br />
t_econ<br />
                           [0.003:0.0<br />
04]   <br />
─────────────────────────────────────────────────────
N 28432      28432      28432      28432     <br />
               <br />
R2 0.008     0.082     0.149     0.151    <br />
──────────────────────────────────────────────────────────────────
*** p &lt; 0.001; ** p &lt; 0.01; * p &lt; 0.05.</p>
<p>Column names: names, Base Model, Base Model with Demographic
Controls, Base Model, Demographic Controls, Current Economic Outlook,
Base Model, Demographic Controls, Current Economic Outlook with
interactions</p>
</div>
<p>The results of the models can also be shown visually. Here, we use <code>plot_summs</code> to show the estimates of models 1-4 visually.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>plot_summs</span><span class='op'>(</span><span class='va'>model1</span>, <span class='va'>model2</span>, <span class='va'>model3</span>, <span class='va'>model4</span>,</span>
<span>           plot.distributions <span class='op'>=</span> <span class='cn'>T</span>,</span>
<span>           scale <span class='op'>=</span> <span class='cn'>T</span>,</span>
<span>           model.names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Base Model"</span>,</span>
<span>                             <span class='st'>"Base Model with Demographic Controls"</span>,</span>
<span>                             <span class='st'>"Base Model, Demographic Controls,\nCurrent Economic Outlook"</span>,</span>
<span>                             <span class='st'>"Base Model, Demographic Controls,\nCurrent Economic Outlook\nwith interactions"</span><span class='op'>)</span>,</span>
<span>           point.size <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>labs</span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Comparing our Model Estimates : Models 1 to 4"</span><span class='op'>)</span><span class='op'>+</span></span>
<span>  <span class='fu'>theme</span><span class='op'>(</span>legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,</span>
<span>        legend.text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        legend.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,</span>
<span>        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.9</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.y <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.text.x <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>angle <span class='op'>=</span> <span class='fl'>45</span>, size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span><span class='op'>)</span>,</span>
<span>        axis.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fu'>rel</span><span class='op'>(</span><span class='fl'>0.7</span><span class='op'>)</span></span>
<span>                                  <span class='op'>)</span></span>
<span>        <span class='op'>)</span></span></code></pre>
</div>
<div class="figure"><span style="display:block;" id="fig:model-report-visual"></span>
<img src="capstone_home_ownership_optimism_files/figure-html5/model-report-visual-1.png" alt="Comparing Models 1 to 4 Estimates" width="864" />
<p class="caption">
Figure 5: Comparing Models 1 to 4 Estimates
</p>
</div>
</div>
<h3 id="evaluating-models-using-anova">Evaluating Models using ANOVA</h3>
<p>We analyzed the explanatory power of each model using the ANOVA function. The <code>anova()</code> function will take each model’s objects as arguments, and return an ANOVA testing whether the more complex model is significantly better than the simpler model. If the resulting p-value is sufficiently low (usually less than 0.05), we conclude that the more complex model is significantly better than the simpler model, and thus favor the more complex model. If the p-value is not sufficiently low (usually greater than 0.05), we should favor the simpler model.</p>
We start by comparing between model1 and model2.
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>model1</span>, <span class='va'>model2</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>tidy</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>┌────────────────────────────────────────────────────────────
│ term       df.resid        rss   df      sumsq   statisti  
│                 ual                                     c  
├────────────────────────────────────────────────────────────
│ outlook    2.84e+04   2.81e+04                             
│ ~                                                          
│ home_own                                                   
│ outlook    2.84e+04   2.6e+04     2   2.09e+03   1.14e+03  
│ ~                                                          
│ home_own                                                   
│ + age +                                                    
│ female                                                     
└────────────────────────────────────────────────────────────</code></pre>
<p>Column names: term, df.residual, rss, df, sumsq, statistic, p.value</p>
<p>6/7 columns shown.</p>
</div>
<p>The ANOVA result has a very small p-value (&lt;0.001), indicating that model2 (with addition of age and gender) <em>did</em> lead to a significantly improved fit over model1.</p>
<p>Next we compare between model2 and model3.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>model2</span>, <span class='va'>model3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>tidy</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>┌────────────────────────────────────────────────────────────
│ term       df.resid        rss   df      sumsq   statisti  
│                 ual                                     c  
├────────────────────────────────────────────────────────────
│ outlook    2.84e+04   2.6e+04                              
│ ~                                                          
│ home_own                                                   
│ + age +                                                    
│ female                                                     
│ outlook    2.84e+04   2.41e+04    1   1.89e+03   2.23e+03  
│ ~                                                          
│ home_own                                                   
│ +                                                          
│ current_                                                   
│ econ +                                                     
│ age +                                                      
│ female                                                     
└────────────────────────────────────────────────────────────</code></pre>
<p>Column names: term, df.residual, rss, df, sumsq, statistic, p.value</p>
<p>6/7 columns shown.</p>
</div>
<p>Once again, the ANOVA result has a very small p-value (&lt;0.001), indicating that model3 (with addition of current_econ) led to a <em>significantly improved</em> fit over model2.</p>
<p>Lastly, we compare between model3 and model4, to ascertain whether adding interaction effects improved the model.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='va'>model3</span>, <span class='va'>model4</span><span class='op'>)</span> <span class='op'>%&gt;%</span> </span>
<span>  <span class='fu'>tidy</span><span class='op'>(</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>  ┌─────────────────────────────────────────────────────────
  │ term       df.resid        rss   df   sumsq   statisti  
  │                 ual                                  c  
  ├─────────────────────────────────────────────────────────
  │ outlook    2.84e+04   2.41e+04                          
  │ ~                                                       
  │ home_own                                                
  │ +                                                       
  │ current_                                                
  │ econ +                                                  
  │ age +                                                   
  │ female                                                  
  │ outlook    2.84e+04   2.4e+04     1    65.2       77.1  
  │ ~                                                       
  │ home_own                                                
  │ + age *                                                 
  │ current_                                                
  │ econ +                                                  
  │ female                                                  
  └─────────────────────────────────────────────────────────</code></pre>
<p>Column names: term, df.residual, rss, df, sumsq, statistic, p.value</p>
<p>6/7 columns shown.</p>
</div>
<p>The ANOVA test result tells us that model4 (with interaction effects), improves on model3. We will report model4 as our final result.</p>
<h3 id="assumption-check-using-gvlma">Assumption Check using GVLMA</h3>
<p>We checked the linearity assumptions of <code>model4</code> using the <em>Global Validation of Linear Model Assumption</em> (<code>gvlma</code>) package. Unfortunately, the model failed global stats, skewness, kurtosis, link function and heteroskedasticity assumptions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>gvlma</span> <span class='op'>(</span><span class='va'>model4</span><span class='op'>)</span> </span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + age * current_econ + female, 
    data = data_regression)

Coefficients:
     (Intercept)         home_own1               age  
        3.131456         -0.061447         -0.031129  
    current_econ           female1  age:current_econ  
       -0.411770          0.057519          0.003456  


ASSESSMENT OF THE LINEAR MODEL ASSUMPTIONS
USING THE GLOBAL TEST ON 4 DEGREES-OF-FREEDOM:
Level of Significance =  0.05 

Call:
 gvlma(x = model4) 

                     Value   p-value                   Decision
Global Stat        2396.96 0.000e+00 Assumptions NOT satisfied!
Skewness            456.70 0.000e+00 Assumptions NOT satisfied!
Kurtosis           1868.33 0.000e+00 Assumptions NOT satisfied!
Link Function        58.05 2.565e-14 Assumptions NOT satisfied!
Heteroscedasticity   13.88 1.945e-04 Assumptions NOT satisfied!</code></pre>
</div>
<p>We tested <code>model3</code> using gvlma. There was some improvement with link function assumptions being acceptable.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>gvlma</span> <span class='op'>(</span><span class='va'>model3</span><span class='op'>)</span> </span></code></pre>
</div>
<pre><code>
Call:
lm(formula = outlook ~ home_own + current_econ + age + female, 
    data = data_regression)

Coefficients:
 (Intercept)     home_own1  current_econ           age       female1  
     2.73094      -0.06253      -0.28100      -0.02060       0.05752  


ASSESSMENT OF THE LINEAR MODEL ASSUMPTIONS
USING THE GLOBAL TEST ON 4 DEGREES-OF-FREEDOM:
Level of Significance =  0.05 

Call:
 gvlma(x = model3) 

                       Value   p-value                   Decision
Global Stat        2.258e+03 0.0000000 Assumptions NOT satisfied!
Skewness           4.820e+02 0.0000000 Assumptions NOT satisfied!
Kurtosis           1.761e+03 0.0000000 Assumptions NOT satisfied!
Link Function      7.020e-03 0.9332272    Assumptions acceptable.
Heteroscedasticity 1.453e+01 0.0001379 Assumptions NOT satisfied!</code></pre>
</div>
<p>We attempted to transform the data (squaring and log transformation), but it still resulted in “Assumptions not satisfied”.</p>
<p>We concluded that this is likely due to the fact that most of our variables are categorical variables.</p>
<p>Here is a visual representation of the core information of assumption checks for <code>model4</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>autoplot</span><span class='op'>(</span><span class='fu'>gvlma</span><span class='op'>(</span><span class='va'>model4</span><span class='op'>)</span><span class='op'>)</span></span></code></pre>
</div>
<p><img src="capstone_home_ownership_optimism_files/figure-html5/plot-gvlma-1.png" width="864" /></p>
</div>
<h3 id="check-multicollinearity-using-vif">Check Multicollinearity using VIF</h3>
<p>We perform a check for multicollinearity using the Variance Inflation Factor or <code>vif</code> from the <code>car</code> package. Multicollinearity occurs when there is a correlation between multiple independent variables in a multiple regression model. This can negatively impact the regression results. The VIF test measures the correlation and strength of correlation between the independent variables in a regression model.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='fu'>vif</span><span class='op'>(</span><span class='va'>model4</span>,</span>
<span>    type <span class='op'>=</span> <span class='st'>"predictor"</span><span class='op'>)</span></span></code></pre>
</div>
<pre><code>    ┌───────────────────────────────────────────────────┐
    │ GVIF    Df   GVIF^(1/(2   Interacts    Other      │
    │                   *Df))   With         Predictors │
    ├───────────────────────────────────────────────────┤
    │ 1.03     1         1.02   --           age,       │
    │                                        current_ec │
    │                                        on, female │
    │ 1.04     3         1.01   current_ec   home_own,  │
    │                           on           female     │
    │ 1.04     3         1.01   age          home_own,  │
    │                                        female     │
    │ 1.01     1         1      --           home_own,  │
    │                                        age,       │
    │                                        current_ec │
    │                                        on         │
    └───────────────────────────────────────────────────┘</code></pre>
<p>Column names: GVIF, Df, GVIF^(1/(2*Df)), Interacts With, Other
Predictors</p>
</div>
<p>Within model4, all 4 variables report a GVIF of close to 1, suggesting that multicollinearity does not exist within the model.</p>
<h2 id="interpretation-of-the-results">Interpretation of the Results</h2>
<p>From our data science project, we found the following findings:</p>
<ol type="1">
<li><p>The relationship between one’s outlook and ownership of property, contrary to our expectations, appears to be a negative one. In our “barebones” <code>model1</code>, owning a property resulted in a decrease in outlook by -0.203.</p></li>
<li><p>The effects size of home ownership on outlook increased (-0.097) when we added demographic control variables, age and gender, to the model (<code>model2</code>). Age appeared to have a negative effect on outlook (-0.019), while females were marginally more positive than males (0.016). These findings persisted across all models.</p></li>
<li><p>The effect of home ownership on outlook improved further (-0.063) when we considered the respondent’s current economic background. Interestingly, the model suggests that outlook decreased (-0.281) as one’s current economic status increased. As discussed earlier, this makes sense as a respondent who is already leading a very successful and well life (and indicated it as the maximum score on the scale), would either see it remaining that way (0 change) or it getting worse (negative score). Adding current economic status to our model allows us to compare between groups of differing current economic status (i.e. those of the same baseline).</p></li>
<li><p>Lastly, we concluded that there was an interaction effect between age and current economic status. The effect size of home ownership on outlook increased further (-0.061) and the estimated effect of interaction term age * current_econ is positive (0.003) and significant, though it diminishes with age. Across the same age, those who are worse off now report a better future economic outlook. I guess when you are down, the only way is up :)</p></li>
</ol>
<h2 id="threats-to-causal-inference">Threats to Causal Inference</h2>
<ul>
<li><p><code>Confounders</code>: Demographic variables (age and gender) and current economic status were identified as `<code>confounders</code> that could influence both home ownership and outlook. These were controlled and included in the model. Additionally, the interacting effect between age and current economic status was identified and accounted for in our final <code>model4</code>. In spite of our best efforts, there may still be omitted variable bias in our model are likely unobservable variables which we failed to capture. For example, terminal illnesses and degree of autonomy are other factors that could affect future outlook.</p></li>
<li><p><code>Colliders</code>: Among the variables we have considered, we did not identify any colliders that we know of. Given that our predictor variable is home ownership, it could be that certain policies which are based on home ownership that could affect the future outlook of respondents are not captured.</p></li>
<li><p><code>Counterfactuals</code>: The role of counterfactuals, ie: <strong><em>what would have happened to your unit of analysis if the treatment had not occurred</em></strong>, could be explored through simulations.</p></li>
</ul>
<h2 id="implications">Implications</h2>
<p>The results of our data science project was surprising, as we had expected home ownership to have a positive effect on outlook. The “barebones” <code>model1</code> rejected this hypothesis, but the effects decreased after the inclusion of age, gender, and current economic status.</p>
<h2 id="limitations-and-future-directions">Limitations and Future Directions</h2>
<p>Indonesia is a large country with a relatively small urban population of 58 percent (as a percentage of total population). It is ranked 126th in terms of urban population percentage by the World Bank.(<a href="https://data.worldbank.org/indicator/SP.URB.TOTL.IN.ZS" class="uri">https://data.worldbank.org/indicator/SP.URB.TOTL.IN.ZS</a>)</p>
<p>It would be interesting to expand the scope of this study to other countries or cities with greater urban population percentages. Would the findings be the same if survey respondents lived in land-scarce urbanized cities such as New York, Shanghai, or Singapore where housing is very expensive? The bar to owning a home in rural parts of Indonesia, where land is comparatively much cheaper, may be much lower than in urbanized cities, and hence not have much impact at all on one’s outlook for the future.</p>
<p>Singapore would be an ideal candidate to repeat this study. In recent years, property prices have skyrocketed and the younger generation are fretting over their ability to purchase their own home. We can already see the Government tweaking it policies to rein in property prices. A study done here could provide the Government with more information about how to further tweak its policies.</p>
<p><em>Grapes of Wrath</em> was published in 1939, while the IFLS was conducted in 2014-15. Perhaps attitudes towards property ownership might have changed over the course of 75 years? Maybe Steinbeck is correct after all, but in his era of 1930s-40s. Attitudes and importance of home ownership may likely have changed through the years.</p>
<p>Lastly, 8,149 observations (22 percent) were “dropped” from the study due to incomplete data, or duplicate entries. This could have impacted the results of the study, or the statistical power of our models. However, we are limited in our ability to handle missing data as we are not involved in study design, data collection, or data entry.</p>
<h2 id="references">References</h2>
<p>[RAND Indonesian Family Life Survey] (<a href="https://www.rand.org/well-being/social-and-behavioral-policy/data/FLS/IFLS.html" class="uri">https://www.rand.org/well-being/social-and-behavioral-policy/data/FLS/IFLS.html</a>).</p>
<!-- ## Contribution Statement -->
<!-- <span style="text-decoration:underline">Mark's Contribution Statement:</span> I am excited to have worked on this project, as it allowed me the opportunity to further my learning in R. Dxxx and I complimented each other very well. She was the brains behind much of the complicated analysis, while I was the brawn behind the coding in R. -->
<!-- I contributed to the study in the following areas: -->
<!-- 1.  Preparing and importing of raw survey data, wrangling, tidy/transforming the data into `capstone_data.csv` and the corresponding rmarkdown document `DaraNg_MarkYeo_ImportData.Rmd`; -->
<!-- 2.  evaluated several linear regression models for the final report; -->
<!-- 3.  drafted parts of the final report `DaraNg_MarkYeo_IndonesiaLifeSurvey_Capstone.rmd`. -->
<!-- <p> -->
<!-- <span style="text-decoration:underline">Dara's Contribution Statement:</span> I am glad to have a reliable partner and a very inspiring professor in this jouRney. I have to thank Mark for doing a lot of heavy lifting and for agreeing to look at this very rich dataset together with me. I did the: EDA and parts of the write up on the regression models :) <p> -->
<h2 id="run-sessioninfo">Run <code>sessionInfo()</code></h2>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='va'>packages_utilized</span> <span class='op'>&lt;-</span></span>
<span>  <span class='fu'><a href='https://rdrr.io/r/utils/sessionInfo.html'>sessionInfo</a></span><span class='op'>(</span><span class='op'>)</span></span>
<span><span class='va'>packages_utilized</span></span></code></pre>
</div>
<pre><code>R version 4.3.2 (2023-10-31 ucrt)
Platform: x86_64-w64-mingw32/x64 (64-bit)
Running under: Windows 10 x64 (build 19045)

Matrix products: default


locale:
[1] LC_COLLATE=English_United States.utf8 
[2] LC_CTYPE=English_United States.utf8   
[3] LC_MONETARY=English_United States.utf8
[4] LC_NUMERIC=C                          
[5] LC_TIME=English_United States.utf8    

time zone: Asia/Singapore
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods  
[7] base     

other attached packages:
 [1] interactions_1.1.5  broom.mixed_0.2.9.4 ggstance_0.3.6     
 [4] car_3.1-2           carData_3.0-5       sandwich_3.1-0     
 [7] ggfortify_0.4.16    gvlma_1.0.0.3       Hmisc_5.1-1        
[10] psych_2.3.12        skimr_2.1.5         modelr_0.1.11      
[13] broom_1.0.5         huxtable_5.5.3      jtools_2.2.2       
[16] DT_0.31             patchwork_1.1.3     ggrepel_0.9.4      
[19] ggthemes_5.0.0      gridExtra_2.3       scales_1.3.0       
[22] transformr_0.1.4    gganimate_1.0.8     rmarkdown_2.25     
[25] knitr_1.45          glue_1.6.2          lubridate_1.9.3    
[28] forcats_1.0.0       stringr_1.5.1       dplyr_1.1.4        
[31] purrr_1.0.2         readr_2.1.4         tidyr_1.3.0        
[34] tibble_3.2.1        ggplot2_3.4.4       tidyverse_2.0.0    

loaded via a namespace (and not attached):
 [1] rstudioapi_0.15.0  jsonlite_1.8.8     magrittr_2.0.3    
 [4] magick_2.8.2       farver_2.1.1       vctrs_0.6.5       
 [7] memoise_2.0.1      base64enc_0.1-3    htmltools_0.5.7   
[10] progress_1.2.3     Formula_1.2-5      sass_0.4.8        
[13] parallelly_1.36.0  KernSmooth_2.23-22 bslib_0.6.1       
[16] htmlwidgets_1.6.4  zoo_1.8-12         cachem_1.0.8      
[19] lifecycle_1.0.4    pkgconfig_2.0.3    Matrix_1.6-1.1    
[22] R6_2.5.1           fastmap_1.1.1      future_1.33.1     
[25] digest_0.6.33      colorspace_2.1-0   furrr_0.3.1       
[28] rprojroot_2.0.4    crosstalk_1.2.1    labeling_0.4.3    
[31] fansi_1.0.6        timechange_0.2.0   abind_1.4-5       
[34] mgcv_1.9-0         compiler_4.3.2     proxy_0.4-27      
[37] bit64_4.0.5        withr_2.5.2        pander_0.6.5      
[40] htmlTable_2.4.2    backports_1.4.1    DBI_1.2.0         
[43] highr_0.10         classInt_0.4-10    tools_4.3.2       
[46] units_0.8-5        foreign_0.8-85     nnet_7.3-19       
[49] nlme_3.1-163       grid_4.3.2         sf_1.0-15         
[52] checkmate_2.3.1    cluster_2.1.4      generics_0.1.3    
[55] lpSolve_5.6.20     gtable_0.3.4       tzdb_0.4.0        
[58] class_7.3-22       data.table_1.14.10 hms_1.1.3         
[61] xml2_1.3.6         utf8_1.2.4         pillar_1.9.0      
[64] vroom_1.6.5        splines_4.3.2      tweenr_2.0.2      
[67] lattice_0.21-9     bit_4.0.5          tidyselect_1.2.0  
[70] downlit_0.4.3      distill_1.6        xfun_0.41         
[73] stringi_1.8.3      yaml_2.3.8         pacman_0.5.1      
[76] evaluate_0.23      codetools_0.2-19   cli_3.6.2         
[79] rpart_4.1.21       repr_1.1.6         munsell_0.5.0     
[82] jquerylib_0.1.4    Rcpp_1.0.11        globals_0.16.2    
[85] png_0.1-8          parallel_4.3.2     ellipsis_0.3.2    
[88] assertthat_0.2.1   prettyunits_1.2.0  listenv_0.9.0     
[91] e1071_1.7-14       crayon_1.5.2       rlang_1.1.2       
[94] mnormt_2.1.1      </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span><span class='co'>#save.image("capstone.RData")</span></span></code></pre>
</div>
</div>
<div class="sourceCode" id="cb18"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p>© 2023 • Made with the <a
href="https://github.com/rstudio/distill">distill</a> <a
href="https://cran.r-project.org"><svg aria-hidden="true" role="img" viewBox="0 0 581 512" style="height:14px;width:15.89px;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:#ededeb;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"/></svg></a>
package.</p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
